"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[689],{1657:(e,a,t)=>{t.r(a),t.d(a,{default:()=>f});var s=t(5043),r=t(9615),l=t(2115),i=(t(2342),t(579));const o=()=>{const e=(0,r.Zp)(),[a,t]=(0,s.useState)({username:"",password:""}),o=e=>{t({...a,[e.target.name]:e.target.value})};return(0,i.jsxs)("div",{className:"admin-login-container",children:[(0,i.jsxs)("video",{className:"login-bg-video",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,children:[(0,i.jsx)("source",{src:"/assets/Animations/Login.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,i.jsxs)("form",{className:"admin-login-form",onSubmit:t=>{t.preventDefault();const{username:s,password:r}=a;"admin"===s&&"admin123"===r?(localStorage.setItem("adminToken","true"),l.oR.success("Login successful!",{position:"top-center",autoClose:2e3,onClose:()=>e("/admin/dashboard")})):l.oR.error("Invalid username or password",{position:"top-center",autoClose:3e3})},children:[(0,i.jsx)("img",{src:"/assets/Logo.png",alt:"Logo",className:"admin-login-logo"}),(0,i.jsx)("h2",{children:"Admin Login"}),(0,i.jsx)("input",{type:"text",name:"username",placeholder:"Username",value:a.username,onChange:o,required:!0}),(0,i.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:a.password,onChange:o,required:!0}),(0,i.jsx)("button",{type:"submit",children:"Login"})]}),(0,i.jsx)(l.N9,{})]})};var n=t(3204),d=t(6213);const c=()=>{const e=(0,r.Zp)(),[a,t]=(0,s.useState)({products:0,services:0,users:0});(0,s.useEffect)(()=>{l()},[]);const l=async()=>{try{const[e,a,s]=await Promise.all([d.A.get("http://localhost:5000/api/products"),d.A.get("http://localhost:5000/api/services"),d.A.get("http://localhost:5000/api/users")]);t({products:e.data.length,services:a.data.length,users:s.data.length})}catch(e){console.error("Failed to fetch dashboard stats:",e)}},o=[{title:"Total Products",count:a.products,color:"#007bff",icon:(0,i.jsx)(n.rrY,{}),route:"/admin/products"},{title:"Total Services",count:a.services,color:"#28a745",icon:(0,i.jsx)(n.C8d,{}),route:"/admin/services"},{title:"Total Users",count:a.users,color:"#ffc107",icon:(0,i.jsx)(n.YXz,{}),route:"/admin/users"}];return(0,i.jsxs)("div",{className:"dashboard",children:[(0,i.jsxs)("div",{className:"dashboard-topbar",children:[(0,i.jsx)("h2",{children:"Dashboard Overview"}),(0,i.jsxs)("button",{className:"logout-btn",onClick:()=>{localStorage.removeItem("adminToken"),e("/admin/login")},children:[(0,i.jsx)(n.axc,{}),"Logout"]})]}),(0,i.jsx)("div",{className:"dashboard-cards",children:o.map((a,t)=>(0,i.jsxs)("div",{className:"dashboard-card",style:{borderLeftColor:a.color,cursor:"pointer"},onClick:()=>e(a.route),children:[(0,i.jsx)("div",{className:"dashboard-icon",style:{color:a.color},children:a.icon}),(0,i.jsxs)("div",{className:"dashboard-text",children:[(0,i.jsx)("h3",{children:a.title}),(0,i.jsx)("p",{children:a.count})]})]},t))})]})};var u=t(1094);const p=e=>{let{initialData:a,onClose:t,onSubmit:r}=e;const l={_id:"",name:"",category:"",slug:"",description:"",keyFeatures:"",details:"",related:""},[o,n]=(0,s.useState)(l),[d,c]=(0,s.useState)(null),[u,p]=(0,s.useState)(null);(0,s.useEffect)(()=>{var e,t;a?(n({_id:a._id||"",name:a.name||"",category:a.category||"",slug:a.slug||"",description:a.description||"",keyFeatures:Array.isArray(a.keyFeatures)?a.keyFeatures.join(", "):a.keyFeatures||"",details:a.details||"",related:Array.isArray(a.related)?a.related.join(", "):a.related||""}),null!==(e=a.images)&&void 0!==e&&null!==(t=e[0])&&void 0!==t&&t.url?p(a.images[0].url):a.img?p(a.img):p(null),c(null)):(n(l),c(null),p(null))},[a]),(0,s.useEffect)(()=>()=>{u&&u.startsWith("blob:")&&URL.revokeObjectURL(u)},[u]);const m=e=>{const{name:a,value:t}=e.target;n(e=>({...e,[a]:t}))};return(0,i.jsx)("div",{className:"modal-backdrop",children:(0,i.jsxs)("div",{className:"modal-container",children:[(0,i.jsx)("h3",{children:a?"Edit Product":"Add Product"}),(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault();const a=o.slug&&""!==o.slug.trim()?o.slug.trim():o.name.trim().toLowerCase().replace(/\s+/g,"-"),t=(o.keyFeatures||"").split(",").map(e=>e.trim()).filter(Boolean),s=(o.related||"").split(",").map(e=>e.trim()).filter(Boolean),l={_id:o._id,name:o.name,category:o.category,slug:a,description:o.description,keyFeatures:t,details:o.details,related:s,images:d?[d]:[]};r(l)},className:"modal-form",encType:"multipart/form-data",children:[(0,i.jsx)("label",{children:"Product Name"}),(0,i.jsx)("input",{name:"name",value:o.name,onChange:m,required:!0,placeholder:"Product Name"}),(0,i.jsx)("label",{children:"Category"}),(0,i.jsx)("input",{name:"category",value:o.category,onChange:m,required:!0,placeholder:"Product Category"}),(0,i.jsx)("label",{children:"Slug"}),(0,i.jsx)("input",{name:"slug",value:o.slug,onChange:m,placeholder:"URL Slug (auto-generated if empty)"}),(0,i.jsx)("label",{children:"Description"}),(0,i.jsx)("textarea",{name:"description",value:o.description,onChange:m,placeholder:"Short Description"}),(0,i.jsx)("label",{children:"Details"}),(0,i.jsx)("textarea",{name:"details",value:o.details,onChange:m,placeholder:"Detailed Explanation"}),(0,i.jsx)("label",{children:"Related Products (comma-separated)"}),(0,i.jsx)("textarea",{name:"related",value:o.related,onChange:m,placeholder:"related-product-1, related-product-2"}),(0,i.jsx)("label",{children:"Upload Product Image"}),(0,i.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const a=e.target.files[0];c(a),p(a?URL.createObjectURL(a):null)}}),u&&(0,i.jsx)("div",{style:{marginTop:10},children:(0,i.jsx)("img",{src:u,alt:"Media Preview",style:{maxWidth:200,maxHeight:150}})}),(0,i.jsx)("label",{children:"Key Features (comma-separated)"}),(0,i.jsx)("textarea",{name:"keyFeatures",value:o.keyFeatures,onChange:m,placeholder:"Feature 1, Feature 2, Feature 3"}),(0,i.jsxs)("div",{className:"modal-actions",style:{marginTop:20},children:[(0,i.jsx)("button",{type:"submit",children:a?"Update":"Add"}),(0,i.jsx)("button",{type:"button",onClick:t,className:"cancel-btn",children:"Cancel"})]})]})]})})},m=()=>{const[e,a]=(0,s.useState)([]),[t,r]=(0,s.useState)(!1),[o,n]=(0,s.useState)(null);(0,s.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=await d.A.get("http://localhost:5000/api/products");a(e.data)}catch(e){console.error("Failed to fetch products:",e),l.oR.error("Failed to fetch products")}},m=s.useMemo(()=>[{Header:"Name",accessor:"name"},{Header:"Category",accessor:"category"},{Header:"Slug",accessor:"slug"},{Header:"Description",accessor:"description"},{Header:"Details",accessor:"details"},{Header:"Related",accessor:"related",Cell:e=>{let{value:a}=e;return Array.isArray(a)?a.join(", "):a||""}},{Header:"Image",accessor:"images",Cell:e=>{var a;let{value:t}=e;if(!t||0===t.length)return"No image";const s=(null===(a=t[0])||void 0===a?void 0:a.url)||t[0];return(0,i.jsx)("img",{src:null!==s&&void 0!==s&&s.startsWith("http")?s:null===s||void 0===s?void 0:s.replace("../","/"),alt:"Product",style:{width:"60px",height:"auto",objectFit:"contain"}})}},{Header:"Actions",Cell:e=>{let{row:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>{return e=t.original,n({_id:e._id,name:e.name||"",category:e.category||"",slug:e.slug||"",description:e.description||"",details:e.details||"",related:Array.isArray(e.related)?e.related.join(", "):e.related||"",keyFeatures:Array.isArray(e.keyFeatures)?e.keyFeatures.join(", "):e.keyFeatures||"",images:e.images||[]}),void r(!0);var e},children:"Edit"}),(0,i.jsx)("button",{onClick:()=>(async e=>{try{await d.A.delete(`http://localhost:5000/api/products/${e}`),a(a=>a.filter(a=>a._id!==e)),l.oR.success("Product deleted successfully")}catch(t){console.error("Delete failed:",t),l.oR.error("Failed to delete product")}})(t.original._id),className:"delete-btn",children:"Delete"})]})}}],[]),{getTableProps:h,getTableBodyProps:g,headerGroups:x,rows:y,prepareRow:j}=(0,u.useTable)({columns:m,data:e});return(0,i.jsxs)("div",{className:"products-page",children:[(0,i.jsx)("h2",{children:"Manage Products"}),(0,i.jsx)("button",{className:"add-btn",onClick:()=>{n(null),r(!0)},children:"Add Product"}),(0,i.jsxs)("table",{...h(),className:"products-table",children:[(0,i.jsx)("thead",{children:x.map(e=>(0,s.createElement)("tr",{...e.getHeaderGroupProps(),key:e.id},e.headers.map(e=>(0,s.createElement)("th",{...e.getHeaderProps(),key:e.id},e.render("Header")))))}),(0,i.jsx)("tbody",{...g(),children:y.map(e=>(j(e),(0,s.createElement)("tr",{...e.getRowProps(),key:e.id},e.cells.map(e=>(0,s.createElement)("td",{...e.getCellProps(),key:e.column.id},e.render("Cell"))))))})]}),t&&(0,i.jsx)(p,{initialData:o,onClose:()=>{r(!1),n(null)},onSubmit:async e=>{try{const t=new FormData;t.append("_id",e._id||""),t.append("name",e.name),t.append("category",e.category),t.append("slug",e.slug),t.append("description",e.description),t.append("details",e.details);const s="string"===typeof e.related?e.related.split(",").map(e=>e.trim()).filter(Boolean):e.related||[];t.append("related",JSON.stringify(s));const r="string"===typeof e.keyFeatures?e.keyFeatures.split(",").map(e=>e.trim()).filter(Boolean):e.keyFeatures||[];let i;t.append("keyFeatures",JSON.stringify(r)),e.images&&e.images.length>0&&(e.images[0]instanceof File?t.append("images",e.images[0]):e._id&&t.append("oldImage",e.images[0])),e._id?(i=await d.A.put(`http://localhost:5000/api/products/${e._id}`,t,{headers:{"Content-Type":"multipart/form-data"}}),a(a=>a.map(a=>a._id===e._id?i.data:a)),l.oR.success("Product updated successfully")):(i=await d.A.post("http://localhost:5000/api/products",t,{headers:{"Content-Type":"multipart/form-data"}}),a(e=>[...e,i.data]),l.oR.success("Product added successfully"))}catch(t){console.error("Form submission failed:",t),l.oR.error("Failed to save product")}r(!1),n(null)}}),(0,i.jsx)(l.N9,{position:"top-right",autoClose:3e3})]})},h=e=>{var a;let{initialData:t,onClose:r,onSubmit:l}=e;const o={title:"",category:"",slug:"",description:"",keyFeatures:""},[n,d]=(0,s.useState)(o),[c,u]=(0,s.useState)(null),[p,m]=(0,s.useState)(null),[h,g]=(0,s.useState)(null),[x,y]=(0,s.useState)(null);(0,s.useEffect)(()=>{var e;t?(d({title:t.title||"",category:t.category||"",slug:t.slug||"",description:t.description||"",keyFeatures:Array.isArray(t.keyFeatures)?t.keyFeatures.join(", "):t.keyFeatures||""}),m((null===(e=t.media)||void 0===e?void 0:e.url)||null),y(t.icon||null),u(null),g(null)):(d(o),u(null),m(null),g(null),y(null))},[t]),(0,s.useEffect)(()=>()=>{p&&p.startsWith("blob:")&&URL.revokeObjectURL(p),x&&x.startsWith("blob:")&&URL.revokeObjectURL(x)},[p,x]);const j=e=>{const{name:a,value:t}=e.target;d(e=>({...e,[a]:t}))};return(0,i.jsx)("div",{className:"modal-backdrop",children:(0,i.jsxs)("div",{className:"modal-container",children:[(0,i.jsx)("h3",{children:t?"Edit Service":"Add Service"}),(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault();const a=n.slug&&""!==n.slug.trim()?n.slug.trim():n.title.trim().toLowerCase().replace(/\s+/g,"-");let t=[];"string"===typeof n.keyFeatures?t=n.keyFeatures.split(",").map(e=>e.trim()).filter(Boolean):Array.isArray(n.keyFeatures)&&(t=n.keyFeatures);const s={...n,slug:a,keyFeatures:t,media:c,icon:h};l(s)},className:"modal-form",encType:"multipart/form-data",children:[(0,i.jsx)("label",{children:"Title"}),(0,i.jsx)("input",{name:"title",value:n.title,onChange:j,required:!0,placeholder:"Service Title"}),(0,i.jsx)("label",{children:"Category"}),(0,i.jsx)("input",{name:"category",value:n.category,onChange:j,required:!0,placeholder:"Service Category"}),(0,i.jsx)("label",{children:"Slug"}),(0,i.jsx)("input",{name:"slug",value:n.slug,onChange:j,placeholder:"URL Slug (auto-generated if empty)"}),(0,i.jsx)("label",{children:"Description"}),(0,i.jsx)("textarea",{name:"description",value:n.description,onChange:j,placeholder:"Description"}),(0,i.jsx)("label",{children:"Upload Media (Image/Video)"}),(0,i.jsx)("input",{type:"file",accept:"image/*,video/*",onChange:e=>{const a=e.target.files[0];u(a),m(a?URL.createObjectURL(a):null)}}),p&&(0,i.jsx)("div",{style:{marginTop:10},children:null!==c&&void 0!==c&&null!==(a=c.type)&&void 0!==a&&a.startsWith("video/")||null!==p&&void 0!==p&&p.endsWith(".mp4")?(0,i.jsx)("video",{width:"200",controls:!0,src:p}):(0,i.jsx)("img",{src:p,alt:"Media Preview",style:{maxWidth:200,maxHeight:150}})}),(0,i.jsx)("label",{children:"Upload Icon Image"}),(0,i.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const a=e.target.files[0];g(a),y(a?URL.createObjectURL(a):null)}}),x&&(0,i.jsx)("div",{style:{marginTop:10},children:(0,i.jsx)("img",{src:x,alt:"Icon Preview",style:{maxWidth:100,maxHeight:100,borderRadius:4}})}),(0,i.jsx)("label",{children:"Key Features (comma-separated)"}),(0,i.jsx)("textarea",{name:"keyFeatures",value:n.keyFeatures,onChange:j,placeholder:"Feature 1, Feature 2, Feature 3"}),(0,i.jsxs)("div",{className:"modal-actions",style:{marginTop:20},children:[(0,i.jsx)("button",{type:"submit",children:t?"Update":"Add"}),(0,i.jsx)("button",{type:"button",onClick:r,className:"cancel-btn",children:"Cancel"})]})]})]})})},g=()=>{const[e,a]=(0,s.useState)([]),[t,r]=(0,s.useState)(!1),[o,n]=(0,s.useState)(null);(0,s.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=await d.A.get("http://localhost:5000/api/services");a(e.data)}catch(e){console.error("Failed to fetch services:",e),l.oR.error("Failed to load services.")}},p=s.useMemo(()=>[{Header:"Title",accessor:"title"},{Header:"Category",accessor:"category"},{Header:"Slug",accessor:"slug"},{Header:"Key Features",accessor:"keyFeatures",Cell:e=>{let{value:a}=e;return Array.isArray(a)?a.join(", "):""}},{Header:"Media",accessor:"media",Cell:e=>{let{value:a}=e;return a&&a.url?"video"===a.resource_type?(0,i.jsxs)("video",{width:"120",controls:!0,children:[(0,i.jsx)("source",{src:a.url,type:"video/mp4"}),"Your browser does not support the video tag."]}):(0,i.jsx)("img",{src:a.url,alt:"media",style:{width:"60px",height:"auto",borderRadius:4}}):"N/A"}},{Header:"Icon",accessor:"icon",Cell:e=>{let{value:a}=e;return a?(0,i.jsx)("img",{src:a,alt:"icon",style:{width:"60px",height:"auto",borderRadius:4}}):"N/A"}},{Header:"Actions",Cell:e=>{let{row:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>{return e=t.original,n({...e,keyFeatures:Array.isArray(e.keyFeatures)?e.keyFeatures.join(", "):""}),void r(!0);var e},children:"Edit"}),(0,i.jsx)("button",{onClick:()=>(async e=>{try{await d.A.delete(`http://localhost:5000/api/services/${e}`),a(a=>a.filter(a=>a._id!==e)),l.oR.success("Service deleted successfully.")}catch(t){console.error("Delete failed:",t),l.oR.error("Failed to delete service.")}})(t.original._id),className:"delete-btn",children:"Delete"})]})}}],[]),{getTableProps:m,getTableBodyProps:g,headerGroups:x,rows:y,prepareRow:j}=(0,u.useTable)({columns:p,data:e});return(0,i.jsxs)("div",{className:"services-page",children:[(0,i.jsx)("h2",{children:"Manage Services"}),(0,i.jsx)("button",{className:"add-btn",onClick:()=>r(!0),children:"Add Service"}),(0,i.jsxs)("table",{...m(),className:"services-table",children:[(0,i.jsx)("thead",{children:x.map(e=>(0,s.createElement)("tr",{...e.getHeaderGroupProps(),key:e.id},e.headers.map(e=>(0,s.createElement)("th",{...e.getHeaderProps(),key:e.id},e.render("Header")))))}),(0,i.jsx)("tbody",{...g(),children:y.map(e=>(j(e),(0,s.createElement)("tr",{...e.getRowProps(),key:e.id},e.cells.map(e=>(0,s.createElement)("td",{...e.getCellProps(),key:e.column.id},e.render("Cell"))))))})]}),t&&(0,i.jsx)(h,{type:"service",initialData:o,onClose:()=>{r(!1),n(null)},onSubmit:async e=>{try{var t,s,i,c;const r=new FormData;r.append("title",(null===(t=e.title)||void 0===t?void 0:t.trim())||""),r.append("category",(null===(s=e.category)||void 0===s?void 0:s.trim())||""),r.append("slug",(null===(i=e.slug)||void 0===i?void 0:i.trim())||""),r.append("description",(null===(c=e.description)||void 0===c?void 0:c.trim())||"");let n,u=[];"string"===typeof e.keyFeatures?u=e.keyFeatures.split(",").map(e=>e.trim()).filter(Boolean):Array.isArray(e.keyFeatures)&&(u=e.keyFeatures),r.append("keyFeatures",JSON.stringify(u)),e.icon&&r.append("icon",e.icon),e.media&&r.append("media",e.media),o?(n=await d.A.put(`http://localhost:5000/api/services/${o._id}`,r,{headers:{"Content-Type":"multipart/form-data"}}),a(e=>e.map(e=>e._id===o._id?n.data:e)),l.oR.success("Service updated successfully.")):(n=await d.A.post("http://localhost:5000/api/services",r,{headers:{"Content-Type":"multipart/form-data"}}),a(e=>[...e,n.data]),l.oR.success("Service added successfully."))}catch(u){console.error("Form submission failed:",u),l.oR.error("Operation failed. Please try again.")}r(!1),n(null)}})]})},x=e=>{let{initialData:a,onClose:t,onSubmit:r}=e;const l={_id:"",name:"",position:"",message:"",video:null},[o,n]=(0,s.useState)(l),[d,c]=(0,s.useState)(null);(0,s.useEffect)(()=>{a?(n({_id:a._id||"",name:a.name||"",position:a.position||"",message:a.message||"",video:null}),a.video&&c(a.video.startsWith("http")?a.video:a.video.replace("../","/"))):(n(l),c(null))},[a]);const u=e=>{const{name:a,value:t}=e.target;n(e=>({...e,[a]:t}))};return(0,i.jsx)("div",{className:"modal-backdrop",children:(0,i.jsxs)("div",{className:"modal-container",children:[(0,i.jsx)("h3",{children:a?"Edit Testimonial":"Add Testimonial"}),(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(o)},className:"modal-form",encType:"multipart/form-data",children:[(0,i.jsx)("label",{children:"Name"}),(0,i.jsx)("input",{name:"name",value:o.name,onChange:u,required:!0}),(0,i.jsx)("label",{children:"Position"}),(0,i.jsx)("input",{name:"position",value:o.position,onChange:u,required:!0}),(0,i.jsx)("label",{children:"Message"}),(0,i.jsx)("textarea",{name:"message",value:o.message,onChange:u,required:!0}),(0,i.jsx)("label",{children:"Upload Video"}),(0,i.jsx)("input",{type:"file",accept:"video/*",onChange:e=>{const a=e.target.files[0];n(e=>({...e,video:a})),a&&c(URL.createObjectURL(a))}}),d&&(0,i.jsx)("video",{src:d,controls:!0,style:{width:"100%",marginTop:10}}),(0,i.jsxs)("div",{className:"modal-actions",children:[(0,i.jsx)("button",{type:"submit",children:a?"Update":"Add"}),(0,i.jsx)("button",{type:"button",className:"cancel-btn",onClick:t,children:"Cancel"})]})]})]})})},y=()=>{const[e,a]=(0,s.useState)([]),[t,r]=(0,s.useState)(!1),[o,n]=(0,s.useState)(null);(0,s.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=await d.A.get("http://localhost:5000/api/testimonials");a(e.data)}catch(e){l.oR.error("Failed to fetch testimonials")}},p=s.useMemo(()=>[{Header:"Name",accessor:"name"},{Header:"Position",accessor:"position"},{Header:"Message",accessor:"message"},{Header:"Video",accessor:"video",Cell:e=>{let{value:a}=e;return a?(0,i.jsx)("video",{src:a.startsWith("http")?a:a.replace("../","/"),width:"100",controls:!0}):"No video"}},{Header:"Actions",Cell:e=>{let{row:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>{return e=t.original,n(e),void r(!0);var e},children:"Edit"}),(0,i.jsx)("button",{onClick:()=>(async e=>{try{await d.A.delete(`http://localhost:5000/api/testimonials/${e}`),a(a=>a.filter(a=>a._id!==e)),l.oR.success("Testimonial deleted successfully")}catch(t){l.oR.error("Failed to delete testimonial")}})(t.original._id),className:"delete-btn",children:"Delete"})]})}}],[]),{getTableProps:m,getTableBodyProps:h,headerGroups:g,rows:y,prepareRow:j}=(0,u.useTable)({columns:p,data:e});return(0,i.jsxs)("div",{className:"products-page",children:[(0,i.jsx)("h2",{children:"Manage Testimonials"}),(0,i.jsx)("button",{className:"add-btn",onClick:()=>{n(null),r(!0)},children:"Add Testimonial"}),(0,i.jsxs)("table",{...m(),className:"products-table",children:[(0,i.jsx)("thead",{children:g.map(e=>(0,s.createElement)("tr",{...e.getHeaderGroupProps(),key:e.id},e.headers.map(e=>(0,s.createElement)("th",{...e.getHeaderProps(),key:e.id},e.render("Header")))))}),(0,i.jsx)("tbody",{...h(),children:y.map(e=>(j(e),(0,s.createElement)("tr",{...e.getRowProps(),key:e.id},e.cells.map(e=>(0,s.createElement)("td",{...e.getCellProps(),key:e.column.id},e.render("Cell"))))))})]}),t&&(0,i.jsx)(x,{initialData:o,onClose:()=>{r(!1),n(null)},onSubmit:async e=>{try{const t=new FormData;let s;t.append("_id",e._id||""),t.append("name",e.name),t.append("position",e.position),t.append("message",e.message),e.video instanceof File?t.append("video",e.video):e._id&&t.append("oldVideo",e.video),e._id?(s=await d.A.put(`http://localhost:5000/api/testimonials/${e._id}`,t,{headers:{"Content-Type":"multipart/form-data"}}),a(a=>a.map(a=>a._id===e._id?s.data:a)),l.oR.success("Testimonial updated successfully")):(s=await d.A.post("http://localhost:5000/api/testimonials",t,{headers:{"Content-Type":"multipart/form-data"}}),a(e=>[...e,s.data]),l.oR.success("Testimonial added successfully"))}catch(t){l.oR.error("Failed to save testimonial")}r(!1),n(null)}}),(0,i.jsx)(l.N9,{position:"top-right",autoClose:3e3})]})},j=()=>{const e=(0,r.zy)(),a=a=>e.pathname===a;return(0,i.jsxs)("aside",{className:"admin-sidebar",children:[(0,i.jsxs)("div",{className:"sidebar-logo",children:[(0,i.jsx)("img",{src:"/assets/Logo.png",alt:"RTech Logo"}),(0,i.jsx)("span",{children:"RTech Admin"})]}),(0,i.jsxs)("nav",{className:"sidebar-nav",children:[(0,i.jsxs)(r.N_,{to:"/admin/dashboard",className:a("/admin/dashboard")?"active":"",children:[(0,i.jsx)("i",{className:"fas fa-tachometer-alt"})," Dashboard"]}),(0,i.jsxs)(r.N_,{to:"/admin/products",className:a("/admin/products")?"active":"",children:[(0,i.jsx)("i",{className:"fas fa-box-open"})," Products"]}),(0,i.jsxs)(r.N_,{to:"/admin/services",className:a("/admin/services")?"active":"",children:[(0,i.jsx)("i",{className:"fas fa-cogs"})," Services"]}),(0,i.jsxs)(r.N_,{to:"/admin/testimonials",className:a("/admin/testimonials")?"active":"",children:[(0,i.jsx)("i",{className:"fas fa-comment-dots"})," Testimonials"]})]})]})},v=e=>{let{children:a}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)(j,{}),(0,i.jsx)("main",{style:{marginLeft:"220px",padding:"80px 30px 30px"},children:a})]})},b=e=>{let{children:a}=e;return localStorage.getItem("adminToken")?a:(0,i.jsx)(r.C5,{to:"/admin/login"})},f=()=>(0,i.jsxs)(r.BV,{children:[(0,i.jsx)(r.qh,{path:"login",element:(0,i.jsx)(o,{})}),(0,i.jsx)(r.qh,{path:"dashboard",element:(0,i.jsx)(b,{children:(0,i.jsx)(v,{children:(0,i.jsx)(c,{})})})}),(0,i.jsx)(r.qh,{path:"products",element:(0,i.jsx)(b,{children:(0,i.jsx)(v,{children:(0,i.jsx)(m,{})})})}),(0,i.jsx)(r.qh,{path:"services",element:(0,i.jsx)(b,{children:(0,i.jsx)(v,{children:(0,i.jsx)(g,{})})})}),(0,i.jsx)(r.qh,{path:"testimonials",element:(0,i.jsx)(b,{children:(0,i.jsx)(v,{children:(0,i.jsx)(y,{})})})})]})}}]);
//# sourceMappingURL=689.a4c9ee75.chunk.js.map